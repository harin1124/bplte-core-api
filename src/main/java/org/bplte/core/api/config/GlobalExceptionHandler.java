package org.bplte.core.api.config;

import lombok.extern.slf4j.Slf4j;
import org.bplte.core.api.core.ApiResponse;
import org.bplte.core.api.core.exception.ApiException;
import org.bplte.core.api.core.message.ResponseCodeInterface;
import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.ExceptionHandler;
import org.springframework.web.bind.annotation.RestControllerAdvice;

@Slf4j
@RestControllerAdvice
public class GlobalExceptionHandler {
	@ExceptionHandler(value = {ApiException.class})
	protected ResponseEntity<?> handleApiException(ApiException ex) {
		ResponseCodeInterface code = ex.getResponseCode();
		ApiResponse<Object> response = ApiResponse.error(code);
		return ResponseEntity.ok(response);
		
	}
}
